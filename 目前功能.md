# Maple 记事本 - 使用说明

## 项目简介

Maple 记事本是一款基于 Vue 3 和 Canvas 技术开发的思维导图编辑器，提供直观的可视化编辑体验。

## 快速开始

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 预览生产构建
npm run preview
```

## 功能说明

### 节点操作

| 操作 | 快捷键/方式 | 说明 |
|------|------------|------|
| 创建根节点 | 点击画布空白处 | 在点击位置创建新的根节点 |
| 添加子节点 | `Enter` | 在选中节点下添加子节点 |
| 添加同级节点 | `Tab` | 在选中节点的父节点下添加新子节点 |
| 删除节点 | `Delete` / `Backspace` | 删除选中节点及其所有子孙节点 |
| 编辑节点文本 | 双击节点 | 弹出输入框编辑节点内容 |
| 左键拖拽 | 鼠标左键拖拽 | 移动节点及其所有子孙节点 |
| 右键拖拽 | 鼠标右键拖拽 | 只移动当前节点，不移动子节点 |
| 微调位置 | `↑` `↓` `←` `→` | 每次移动 10 像素 |

### 画布操作

| 操作 | 快捷键/方式 | 说明 |
|------|------------|------|
| 平移画布 | 按住 `空格键` + 拖拽 | 自由移动画布视图 |
| 放大画布 | 鼠标滚轮上滚 / `+` 键 | 以鼠标位置为中心放大 |
| 缩小画布 | 鼠标滚轮下滚 / `-` 键 | 以鼠标位置为中心缩小 |

### 布局功能

| 操作 | 快捷键 | 说明 |
|------|--------|------|
| 切换布局方向 | `L` | 在「左右布局」和「上下布局」之间切换 |

### 节点折叠/展开

- **折叠/展开节点**：双击节点右侧的圆形指示器（绿色表示已折叠，灰色表示已展开）

### 撤销/重做

| 操作 | 快捷键 | 说明 |
|------|--------|------|
| 撤销 | `Ctrl + Z` | 恢复上一步操作 |
| 重做 | `Ctrl + Y` 或 `Ctrl + Shift + Z` | 恢复被撤销的操作 |

### 连接线操作

- **选择连接线**：点击节点之间的连线（选中后显示绿色）
- **删除连接线**：选中连接线后按 `Delete` / `Backspace`

## API 接口

```javascript
// 获取思维导图数据
const data = mindMapRef.value.getMindMapData()

// 加载思维导图数据
mindMapRef.value.loadMindMapData({ nodes, rootIds })

// 导出为 PNG 图片
const pngDataUrl = mindMapRef.value.exportAsPNG()

// 清空画布
mindMapRef.value.clearCanvas()

// 获取/设置布局方向
mindMapRef.value.getLayoutDirection()
mindMapRef.value.setLayoutDirection('left-right')
```

## 技术栈

- Vue 3.5.25
- Vite 7.3.1
- HTML5 Canvas
- JavaScript (ES6+)
